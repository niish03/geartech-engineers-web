<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="images/favicon.ico" />
  <title>Geartech Engineers</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous">

  </script>

  <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">



  <script type="text/javascript" src="vendors/jquery.js"></script>




</head>

<body>

  <div class="container-gq p-sm-5 p-4">
    <div class="row">
      <div class="col-md-6 pt-md-4 pb-4">
        <h2 class="mainfont" style="color: white; ">Get Quote</h2>
        <p class="subfont" style="color: white; margin-bottom: 3rem;">Fill up the form and our team will get to
          you within 24 hours.</p>
        <div class="details">
          <p><i class="ri-phone-fill ri-xl p-2"></i>+91-9825284251</p>
        </div>
        <div class="details">
          <p><i class="ri-mail-fill ri-xl p-2"></i>narendrapatel.1710@gmail.com</p>
        </div>
        <div class="details">
          <p style="align-items: start !important;"><i class="ri-map-pin-fill ri-xl pt-1 p-2"></i>4, Durga
            estate,
            Keval kanta road,<br>Opposite Ajay estate,<br>
            Rakhial, Ahmedabad
            GJ-380023
        </div>
        </p>
      </div>
      <div class="col-md-6">
        <div class="white-container">
          <form class="getquote" id="getquote">
            <h2 class="mainfont">Quotation Form</h2>
            <div class="row m-0">
              <div class="col-6 p-0" style="padding-right: 0.2rem !important;">
                <input type="text" class="form-control" id="name" placeholder="Name" required></div>
              <div class="col-6 p-0" style="padding-left: 0.2rem !important;"><input type="text" class="form-control"
                  id="company" placeholder="Company"></div>

            </div>



            <input type="text" class="form-control" id="email" placeholder="Email" required >
            <input type="number" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" class="form-control" id="phone" placeholder="Phone" minlength="10" maxlength="13"  required>
            <p class="subfont m-0" style="color: rgb(24, 24, 24);">Please describe your gear in as much detail as you
              can, including pitch, number of teeth, angle and hardness:</p>
            <textarea class="form-control mt-0" placeholder="Message" id="message" rows="6" required></textarea>


            <p class="m-0">Add drawings, images , sketches related to Quotation. <br>[If applicable]</p>
            <input type="file" id="real-file" accept="image/jpg , image/jpeg ,image/png , image/gif, application/pdf" onchange="getfiles(event)" multiple hidden />
            <button type="button" id="custom-button">CHOOSE A FILE</button>
            <span id="custom-text"></span>
            <br>

            <div class="sent-message" id="sent-message">Your message has been sent. Thank you!</div>
            <div class="error-message" id="error-message">Opps ! some error occured. Try again</div>

            <input type="submit" id="submit" class="submit-gq" value="Send quote"></button>

            
          </form>
        </div>
      </div>
    </div>
  </div>

  <footer id="footer" class="footer">



    <div class="footer-top">
      <div class="container">
        <div class="row gy-4">
          <div class="col-lg-5 col-md-12 footer-info">
            <a href="#home" class="logo d-flex align-items-center pb-2">
              <img src="images/geartech-logo.svg">
              <span>Geartech Engineers</span>

            </a>
            <p>Geartech has been a gear industry leader for over 25 years. With advanced technology and state-of-the-art
              machinery, we produce high-quality, custom gears of up to 45" in diameter and 52" long shafts. Geartech's
              manufacturing, repair, and reverse engineering capabilities create distinct advantages for our clients.
            </p>
          </div>

          <div class="col-lg-2 col-6 footer-links">
            <h4>Useful Links</h4>
            <ul>
              <li><i class="ri-arrow-right-s-line ri-2x"></i> <a href="index.html#home">Home</a></li>
              <li><i class="ri-arrow-right-s-line ri-2x"></i> <a href="index.html#aboutus">About us</a></li>
              <li><i class="ri-arrow-right-s-line ri-2x"></i> <a href="index.html#productrange">Product range</a></li>
              <li><i class="ri-arrow-right-s-line ri-2x"></i> <a href="index.html#service">Service</a></li>
              <li><i class="ri-arrow-right-s-line ri-2x"></i> <a href="index.html#team">Team</a></li>
              <li><i class="ri-arrow-right-s-line ri-2x"></i> <a href="index.html#contactus">Contact us</a></li>
              <li><i class="ri-arrow-right-s-line ri-2x"></i> <a href="getquote.html">Get quote</a></li>
            </ul>
          </div>



          <div class="col-lg-3 col-md-12 footer-contact text-center text-md-start">
            <h4>Contact Us</h4>
            <p>
              4, Durga estate,<br>Keval kanta road, Opposite Ajay estate,<br>Rakhial, Ahmedabad<br>GJ-380023<br>
              <strong>Phone:</strong> <a style="text-decoration: none;" href="tel:+91-9825284251">+91 98252
                84251</a><br>
              <strong>Email:</strong> <a style="text-decoration: none;"
                href="mailto:narendrapatel.1710@gmail.com?subject=Regarding%20information&body=Dear%20Geartech%20engineers%2C">narendrapatel.1710@gmail.com</a><br>
            </p>

          </div>

        </div>
      </div>
    </div>

    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>Geartech Engineers</span></strong>. All Rights Reserved
      </div>
      <div class="credits">

        Designed by <a href="https://www.linkedin.com/in/nishit-patel03">Nishit patel</a>
      </div>
    </div>
  </footer>

  <script src="customjs.js"></script>

  <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-app.js"></script>

  <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
  <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-analytics.js"></script>

  <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-database.js"></script>

  <script>
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional

    Array.prototype.forEach.call(
  document.querySelectorAll("#custom-button"),
  function(button) {
    const hiddenInput = button.parentElement.querySelector(
      "#real-file"
    );
    const label = button.parentElement.querySelector("#custom-text");
    const defaultLabelText = "No file(s) selected";

    // Set default text for label
    label.textContent = defaultLabelText;
    label.title = defaultLabelText;

    button.addEventListener("click", function() {
      hiddenInput.click();
    });

    hiddenInput.addEventListener("change", function() {
      const filenameList = Array.prototype.map.call(hiddenInput.files, function(
        file
      ) {
        return file.name;
      });

      label.textContent = filenameList.join(", ") || defaultLabelText;
      label.title = label.textContent;
    });
  }
);


    var firebaseConfig = {
      apiKey: "AIzaSyCnw4FXNyCWkMWieeNjlPjAyQGyunLFS0M",
      authDomain: "geartech-engineers.firebaseapp.com",
      databaseURL: "https://geartech-engineers-default-rtdb.firebaseio.com",
      projectId: "geartech-engineers",
      storageBucket: "geartech-engineers.appspot.com",
      messagingSenderId: "671120438250",
      appId: "1:671120438250:web:f8317eb72cee8c3a457893",
      measurementId: "G-DDSB57H2TG"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();

    function Ready() {
      name = document.getElementById('name').value;
      company = document.getElementById('company').value;
      email = document.getElementById('email').value;
      phone = document.getElementById('phone').value;
      message = document.getElementById('message').value;


    }

    document.getElementById('submit').onclick = function () {

      if (document.getElementById('name').value != "" && document.getElementById('email').value != "" && document
        .getElementById('phone').value.length > 9   && document.getElementById('phone').value.length < 11   && document.getElementById('message').value != "") {
        document.getElementById('submit').disabled = true;
        jQuery('#submit').css("background", "#9099f0ce");
        jQuery('#submit').attr("value", "Please wait...");

        Ready();



        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth() + 1;
        var yyyy = today.getFullYear();

        if (dd < 10) dd = '0' + dd;
        if (mm < 10) mm = '0' + mm;
        var sp = "-"
        var finaldate = dd + sp + mm + sp + yyyy;

        var hh = today.getHours();
        var min = today.getMinutes();
        var ss = today.getSeconds();

        if (hh < 10) hh = '0' + hh;
        if (min < 10) min = '0' + min;
        if (ss < 10) ss = '0' + ss;
        var spt = ":"
        var finaltime = hh + spt + min + spt + ss;
        //var currenttime = (time.getUTCHours +1)  + (time.getUTCMinutes +1) + (time.getUTCSeconds +1);
        console.log(finaldate);
        console.log(finaltime);

        var imageurl = "";

        if (document.getElementById('real-file').files.length != 0) {
          

          for (i = 0; i < document.getElementById('real-file').files.length; i++) {
            let imagefile = document.getElementById('real-file').files[i];
            let storageref = firebase.storage().ref('Files/' + finaldate + '/' + name + '/' + imagefile.name);

            let task = storageref.put(imagefile);


            task.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'
              (snapshot) => {
                // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded
                var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                console.log('Upload is ' + progress + '% done');
                switch (snapshot.state) {
                  case firebase.storage.TaskState.PAUSED: // or 'paused'
                    console.log('Upload is paused');
                    break;
                  case firebase.storage.TaskState.RUNNING: // or 'running'
                    console.log('Upload is running');
                    break;
                }
              },
              (error) => {
                // A full list of error codes is available at
                // https://firebase.google.com/docs/storage/web/handle-errors
                switch (error.code) {
                  case 'storage/unauthorized':
                    // User doesn't have permission to access the object
                    $('#error-message').css("display", "block").delay(9000).fadeOut(300);
                    break;
                  case 'storage/canceled':
                    // User canceled the upload
                    $('#error-message').css("display", "block").delay(9000).fadeOut(300);
                    break;

                    // ...

                  case 'storage/unknown':
                    // Unknown error occurred, inspect error.serverResponse
                    $('#error-message').css("display", "block").delay(9000).fadeOut(300);
                    break;
                }
              },
              () => {
                
                // Upload completed successfully, now we can get the download URL
                task.snapshot.ref.getDownloadURL().then((downloadURL) => {
                  imageurl = imageurl + "," + (downloadURL);
                  console.log('File available at', downloadURL);
                  firebase.database().ref('Get quote/' + finaldate + '/' + finaltime).set(

          {
            Name: name,
            Company: company,
            Email: email,
            Phone: phone,
            Message: message,
            FileURL: imageurl
          }, (error) => {
            if (error) {
              $('#error-message').css("display", "block").delay(9000).fadeOut(300);
            } else {
              document.getElementById('submit').disabled = false;
              jQuery('#submit').attr("value", "Send message");
              jQuery('#submit').css("background", "#4154f1");


              $('#sent-message').css("display", "block").delay(6000).fadeOut(300);
              $('#getquote').trigger("reset");

            }
          });
                });
              }
            );

            // get the uploaded image url back


          }
        }else{
          firebase.database().ref('Get quote/' + finaldate + '/' + finaltime).set(

{
  Name: name,
  Company: company,
  Email: email,
  Phone: phone,
  Message: message,
  FileURL: imageurl
}, (error) => {
  if (error) {
    $('#error-message').css("display", "block").delay(9000).fadeOut(300);
  } else {
    label.textContent = defaultLabelText;
    label.title = defaultLabelText;
    document.getElementById('submit').disabled = false;
    jQuery('#submit').attr("value", "Send message");
    jQuery('#submit').css("background", "#4154f1");


    $('#sent-message').css("display", "block").delay(6000).fadeOut(300);
    $('#getquote').trigger("reset");

  }
});
        }



        
      }

    }
  </script>


</body>

</html>